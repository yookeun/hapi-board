
<div class="ui fluid action input">
  <input type="text" placeholder="Search..." id="title">
  <div class="ui button" id="searchBtn">Search</div>
</div>

<table class="ui striped table">
  <thead>
    <tr>
      <th>Title</th>
      <th>Name</th>
      <th>Gender</th>
      <th>Occupation</th>
    </tr>
  </thead>

  <script id="entry-template" type="text/x-handlebars-template">
  <tbody id="hapiboardList">
    {{#each hapiboards}}
    <tr>
      <td>{{title}}</td>
      <td>{{name}}</td>
      <td>{{gender}}</td>
      <td>{{occupation}}</td>
    </tr>
    {{/each}}
  </tbody>
  </script>

</table>
<script>

  var source   = $("#entry-template").html();
  var template = Handlebars.compile(source);
  //$('#hapiboardList').html(template);

  $('#searchBtn').click(function(){

      var search = {
        title : $('#title').val()
      }

      $.ajax({
        type: 'POST',
        dataType: 'JSON',
        contentType : "application/json; charset=UTF-8",
        url: '/list/'+search.title,
        error: function() {
        },
        success: function(response) {
            $('#hapiboardList').html(template(response.hapiboards));
              /*
              $('#hapiboardList').empty();
              $.each(response.hapiboards, function(i, hapiboard) {
                console.log(template(response.hapiboard));
                $('#hapiboardList').append(template(hapiboard));
              });


              //$('#hapiboardList').append(template(response.hapiboards));
              */
        }
      });
  });


</script>
